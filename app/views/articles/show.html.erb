<%- @page_title = "#{@article.title.smarten} â€” #{t('articles.index.title')}" -%>

<article class="h-entry">
	<header>
		<h1 class="p-name"><%= @article.title.smarten %></h1>

		<%- if @article.published_at? -%>
			<small>
        <%= t('articles.show.published_at_html', published_at_iso8601: @article.published_at.to_s(:iso8601), published_at_long_ordinal: raw(@article.published_at.to_s(:long_ordinal))) %>.
        <%- if @article.updated_at > @article.published_at -%>
          <%= t('articles.show.updated_at_html', updated_at_iso8601: @article.updated_at.to_s(:iso8601), updated_at_long_ordinal: raw(@article.updated_at.to_s(:long_ordinal))) %>.
        <%- end -%>
      </small>
		<%- end -%>
	</header>

	<div class="e-content">
		<%= raw @article.content.to_html %>
	</div>

  <footer>
    <%= t('articles.show.footer_html', article_title: @article.title.smarten, article_url: article_path(@article), article_json_url: article_path(@article, format: :json)) %>

    <dl>
      <%- if @article.location -%>
        <dt><%= t('articles.show.metadata.location') %></dt>
        <dd>
          <%= link_to @article.location.map_url, class: 'p-location h-adr' do %>
            <span class="p-latitude"><%= @article.location.latitude %></span>,
    				<span class="p-longitude"><%= @article.location.longitude %></span>
    			<% end %>
        </dd>
    	<%- end -%>

      <%- if @article.tags.any? -%>
        <dt><%= t('articles.show.metadata.tags') %></dt>
        <%- @article.sorted_tags.each do |tag| -%>
          <dd><%= link_to tag.name, tag_path(tag), class: 'p-category' %></dd>
        <%- end -%>
      <%- end -%>

      <%- if @article.syndications.any? -%>
        <dt><%= t('articles.show.metadata.syndications') %></dt>
        <%- @article.sorted_syndications.each do |syndication| -%>
          <dd><%= link_to syndication.name, syndication.url, class: 'u-syndication' %></dd>
        <%- end -%>
      <%- end -%>
    </dl>
  </footer>
</article>
